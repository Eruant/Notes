<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Transpose</title>
  <style>
    * { text-align:center; font-family: Arial; }
    textarea {
      width: 400px;
      height: 200px;
    }
  </style>
</head>
<body>
<h1>Transpose</h1>
<textarea id="original"></textarea>
<textarea id="transposed"></textarea><br/>
<select id="steps">
  <option value="6">+6</option>
  <option value="5">+5</option>
  <option value="4">+4</option>
  <option value="3">+3</option>
  <option value="2">+2</option>
  <option value="1">+1</option>
  <option value="0" selected>0</option>
  <option value="-1">-1</option>
  <option value="-2">-2</option>
  <option value="-3">-3</option>
  <option value="-4">-4</option>
  <option value="-5">-5</option>
  <option value="-6">-6</option>
</select>
<input type="button" onclick="transpose()" value="transpose" />
<script type="text/javascript">

function transpose() {
  var chords = ['A','A#','B','C','C#','D','D#','E','F','F#','G','G#'],
    text = document.getElementById('original').value.split('');
    transposed = document.getElementById('transposed'),
    steps = parseInt(document.getElementById('steps').value),
    c_len = chords.length;

  for(l in text) {
    if(chords.indexOf(text[l].toUpperCase()) != -1) {
      var change = chords.indexOf(text[l].toUpperCase()) + steps;
      if(change < 0) {
        change += c_len;
      } else if(change >= c_len) {
        change -= c_len;
      }
      text[l] = chords[change];
    }
  }

  transposed.value = text.join('');
}

</script>
</body>
</html>
